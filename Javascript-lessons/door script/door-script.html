<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title> Title </title>
</head>

<body>
    <img src="doorframe.png" width="480px" height="640px" id="df" onclick="operate()">
    <img src="doorpane.png" width="225px" height="390px" id="dp" >
    <img src="interior.png" width="450px" height="500px" id="int">
    <span id="trace"></span>
    
    <script>
        e("int").style.zIndex=-3;
        move("int","100px", "0px");
        
        
        e("df").style.zIndex=-1;// doorframe
        e("dp").style.zIndex=-2; //doorpane
        
        
        let doorPosX="155px";
        let doorClosedPos=145;
        let doorOpenPos=380;
        let posY = doorClosedPos;
        let step=15;
        let duration=50;
        let i=0; let time;
        let doorState=0; 
        move("dp", doorPosX, doorClosedPos+"px");
        const doorsound = new Audio("doorsound.oga");
               
        function operate(){
            if(doorState=doorState^1){time=setInterval(open, duration);}
            else{time=setInterval(close, duration);}
            doorsound.play();
        }
        
        function open(){              
            posY+=step;
            if(posY >doorOpenPos){
                posY=doorOpenPos;
                clearInterval(time);                    
            }
            move("dp",doorPosX, posY+"px");
            e("trace").innerHTML=posY;
        }
        
        function close(){
            posY-=step;
            if(posY < doorClosedPos){
                posY=doorClosedPos;
                clearInterval(time);                    
            }
            move("dp",doorPosX, posY+"px");
            e("trace").innerHTML=posY;
        }
        
        function e(id){return document.getElementById(id);}
        function move(id, t, l){
            e(id).style.position="absolute";
            e(id).style.top=t;
            e(id).style.left=l;
        }
    </script>
</body>
</html>
<!--&copy; Made by Soumen Chakraborty 2018-->
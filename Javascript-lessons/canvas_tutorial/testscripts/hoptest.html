<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title> hop.html </title>
    <style>
        #container {
          width: 400px;
          height: 400px;
          position: relative;
          background: yellow;
        }
        #animate {
          width: 50px;
          height: 50px;
          position: absolute;
          background-color: #f8d9d9;
        }
    </style>
</head>

<body>
    <input type="button" value="click me" id="btn" onclick="myMove()">
    <div id ="container">
        <canvas id="myCanvas" width="400" height="400" style="border:1px solid #d3d3d3;">
            Your browser does not support the HTML5 canvas tag.</canvas> <br><br><br>
        <img id ="animate" src="GOLU-MOVE.gif" width="50px" height="50px" />
    </div>
    <span id="trace"></span>
    <script>
        let elem = e("animate");
        elem.style.top=e("myCanvas").width/2+"px";
        elem.style.left=e("myCanvas").height/2+"px";
        
        const range = 300;
        
        let targetposx;  let targetposy;
        
        let currentposx; let currentposy;
        
        
        function myMove(){
            currentposx = e("animate").offsetTop;
            currentposy = e("animate").offsetLeft;
            
            
            targetposx=Math.floor(Math.random() * range);
            targetposy=Math.floor(Math.random() * range);
            
            elem.style.top=targetposx+"px";
            elem.style.left=targetposy+"px";
            
           
            let distance = Math.sqrt( Math.pow((currentposx - targetposx),2) 
                                     + Math.pow((currentposy - targetposy),2 ) );
            
            e("trace").innerHTML=
                `The current pos is ${currentposx} and ${currentposy} <br>
                The target pose is ${targetposx} and ${targetposy}<br>
                The difference is ${distance}`;
        }        
        function e(id){return document.getElementById(id);}
    </script>


    
    
    <br><br><br><br>
    <footer>
        <a href="testscriptindex.html">Back to list of test scripts</a>
    </footer>

</body>

</html>

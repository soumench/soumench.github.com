<!DOCTYPE html>
<html lang="">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Paragraph Writer</title>
	<style>
		body{
			font-size: 24px; text-align: center; width="480px"; height="640px";
			background-color: #f4b872;
		}
		#quiz_box{ 
			border:1px solid red; width:50%; margin: auto; 
			border-radius: 16px; padding: 10px;
			background-color: white;
			box-shadow: 10px 10px 8px #888888;
		}
		#q{font-size:1.5em; color:#6a076a;}
		#bangla_q{font-size:1em; color:#07af27;}
		#ui{font-size:1.15em; width:55%; }
		#gobtn{font-size:1.15em; }
		
		
		#result_box{font-size:1.5em; width="480px"; }
		#refresh{font-size:1.15em; }
		
		footer{
			border:1px solid red; width:90%; margin: auto;
			border-radius: 16px; padding: 10px;
			background-color: white;
			box-shadow: 10px 10px 8px #888888;
		}
	</style>
</head>

<body>
	<h2 style="color:blue">Paragraph Writer:</h2> 
	<div id="quiz_box">
		<h2 style="color:red">Answer the questions:</h2> 
		<span id="q"></span><br>
		<span id="bangla_q"></span><br>
		<img id="thepic" width="240px" height="200px"/><br>
		<input type="text" id="ui" maxlength="25" placeholder="write here...">
		<input type="button" id="gobtn" value = "NEXT" onclick="add()"/>
	</div>
	
	<div id="result_box">
		<span id="paragraph"></span><br>
		<button type="button" id="refresh" onClick="window.location.reload();">Let's start again. <br> চলো আবার শুরু করি</button>
	</div>

	<script>
		const sound = new Audio("my_click_sound.oga");
		const images = ['1-min.jpg','2-min.jpg','3-min.jpg','4-min.jpg'];
		let imgcount=0;
		changeIMG();
		
		e("result_box").style.visibility = "hidden";
				
		let i=0;
		const questions = [
			"What is your name?", "তোমার নাম কী ?",
			"What class do you read in?", "তুমি কোন ক্লাসে পড় ?",
			"What is your favourite subject?", "তোমার প্রিয় বিষয় কোনটি ?",
			"Where is the name of your locality?","তুমি কোন অঞ্চলে বাস করো ?",
			"What is the name of your best friend?","তোমার বেস্ট ফ্রেন্ডের নাম কী ?",
			"What is your hobby?", "তোমার হবি কী ?",
			"What are you going to be?","তুমি বড় হয়ে কী হতে চাও ?"
		];
		
		
		e("q").innerHTML = questions[i];
		e("bangla_q").innerHTML = questions[i+1];
		let answers = [];
		
		function add(){
			if( e("ui").value ==="") return;
			i+=2;
			let answer = e("ui").value;
			answers.push(answer);
			
			e("ui").value ="";			
			
			e("q").innerHTML = questions[i];
			e("bangla_q").innerHTML = questions[i+1];
			if(i === questions.length){
				generate_paragraph();
			}
			changeIMG();
			
			sound.play();
		}
		
		function generate_paragraph(){
			const name = firstUpperCase(answers[0]);
			const cls = answers[1];
			const fav_sub = firstUpperCase(answers[2]);
			const place = firstUpperCase(answers[3]);
			const best_friend = firstUpperCase(answers[4]);
			const hobby = answers[5];
			const aim = answers[6];
			
			
			const paragraph = `My name is ${name}. 
							I live at ${place} which is a beautiful place.
							I love and respect my parents very much.
							I read in class ${cls}.
							My favourite subject is ${fav_sub}.
							I love all my class-mates. 
							${best_friend} is my best friend. 
							My hobby is ${hobby}. I spend a lot of time on it.
							I want to be a ${aim}. 
							India is my country. I love my country. 
							I want to be a good citizen of my country.`;
						
			e("paragraph").innerHTML = paragraph;
			e("result_box").style.visibility = "visible";
			
			var elem = e("quiz_box");
			elem.parentNode.removeChild(elem);
		}
		
		function e(id){
			return document.getElementById(id);
		}
		function firstUpperCase(txt) {
            return txt.substr(0, 1).toUpperCase() + txt.substr(1);
        }
		function changeIMG(){
			e("thepic").src= images[Math.floor(Math.random()*images.length)];
			/*if(imgcount < images.length){
				e("thepic").src=images[imgcount++];
				if(imgcount===images.length){imgcount = 0;}
			}*/
		}
	</script>
	<footer> &copy Made by Soumen Chakraborty - Strictly for Educational and Non-Commercial Purpose only.</footer>

</body>

</html>

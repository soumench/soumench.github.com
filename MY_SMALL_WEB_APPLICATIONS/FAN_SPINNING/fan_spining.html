<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title> </title>
</head>

<body>
    <img src="frame300X300.png" id="fanFrame" width="300px" height="300px" >
    <img src="blade300X300.png" id="fanBlade" width="300px" height="300px" >
    <button id="btnOnOff" onclick="start_timer()" >ON/OFF</button> 
    <button id="slow" onclick="changeSpeed(this)">SLOW</button>
    <button id="mid" onclick="changeSpeed(this)">MID</button>
    <button id="high" onclick="changeSpeed(this)">HIGH</button>
    <span id="trace">-----</span>
    
    <script src="../js/eclean.js"></script> <script src="../js/move.js"></script>
    <script>
        const btnlocX1 = "400px"; const btnlocX2 = "430px";
        move("btnOnOff",btnlocX1, "35px"); 
        move("slow",btnlocX1, "100px");move("mid",btnlocX1, "150px"); move("high",btnlocX1, "190px");
        move("trace","460px", "40px");
        move("fanFrame","9px", "9px");  move("fanBlade","10px", "10px");
        e("fanFrame").style.zIndex=1;  e("fanBlade").style.zIndex=-1;
        let i=0; let time; let increment=3; let bool;
        function start_timer(){
            if(bool=bool^1){
                stop_timer();
                time = setInterval(rot, 20);
            }else{stop_timer(); }
        }
        function rot(){
            i+=increment;
            e("fanBlade").style = 'transform: rotate(' + i+ 'deg)'; 
            e("trace").innerHTML=`i is ${i} and increment is ${increment}`;
        }        
        function changeSpeed(el){
            if(el.id==="slow"){increment=3;}
            else if(el.id==="mid"){increment=5;}
            else if(el.id==="high"){increment=8;}
            stop_timer();
            time = setInterval(rot, 20);
        }        
        function stop_timer(){clearInterval(time);}
                
        /*rotate("pic",-10);
        function rotate(id, degree){
           e(id).style = 'transform: rotate(' + degree + 'deg)'; 
        }*/    
    </script>

</body>
</html>

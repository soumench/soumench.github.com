<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title> Title </title>
</head>

<body>
    <button id="btnOn" onclick="start_timer()">ON</button> 
    <button id="btnOff" onclick="stop_timer()">OFF</button>
    
    <button id="slow" onclick="changeSpeed(this)">SLOW</button>
    <button id="mid" onclick="changeSpeed(this)">MID</button>
    <button id="high" onclick="changeSpeed(this)">HIGH</button>
    
    <img src="frame300X300.png" id="fanFrame" width="300px" height="300px" >
    <img src="blade300X300.png" id="fanBlade" width="300px" height="300px" >
    
    <span id="trace">-----</span>
    
    <script src="../js/eclean.js"></script> 
    <script src="../js/move.js"></script>
    <script>
        const btnlocX1 = "400px"; const btnlocX2 = "430px";
        move("btnOn",btnlocX1, "100px"); move("btnOff",btnlocX1, "190px");
        move("slow",btnlocX2, "100px");move("mid",btnlocX2, "150px"); move("high",btnlocX2, "190px");
        move("trace","460px", "100px");
        move("fanFrame","9px", "9px");  move("fanBlade","10px", "10px");
        e("fanFrame").style.zIndex=1;  e("fanBlade").style.zIndex=-1;
        
        let i=0; let time;
        
        let increment=3 ;
        
        
        function start_timer(){
            stop_timer();
            time = setInterval(rot, 20);
        }
        
        function rot(){
            i+=increment;
            e("fanBlade").style = 'transform: rotate(' + i+ 'deg)'; 
            
            e("trace").innerHTML=`i is ${i} and increment is ${increment}`;
        }
        
        function changeSpeed(el){
            if(el.id==="slow"){increment=3;}
            else if(el.id==="mid"){increment=5;}
            else if(el.id==="high"){increment=8;}
            start_timer();
        }
        
        function stop_timer(){clearInterval(time);}
        
        
        /*rotate("pic",-10);
        function rotate(id, degree){
           e(id).style = 'transform: rotate(' + degree + 'deg)'; 
        }*/
    
    </script>

</body>
</html>

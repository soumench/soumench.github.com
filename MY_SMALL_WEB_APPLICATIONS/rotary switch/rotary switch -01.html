<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title> Title </title>
    <style>
        body{ 
            width="480px"; height="690px";
            border: 1px solid red;
            font-size: 20PX;
        }
        h2{border: 2px solid red;}
        #fixWord{font-size: 180%;}
        #mainWord{font-size: 180%;}
        
        .btn {
            -webkit-transition-duration: 0.4s; /* Safari */
            transition-duration: 0.4s;
            border: 2px solid red; 
            background-color: #ffffff; 
            border-radius: 12px;
            padding: 12px 28px;
            font-size: 16px;
            box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2), 0 6px 20px 0 rgba(0,0,0,0.19);
        }

        .btn:hover {
            background-color: #ffffff; 
            color: red;
        }
    </style>
</head>

<body>
    <h2>Prefix and Suffix Checker</h2>
    <span>Prefix----------------------------------------Suffix</span><br>
    <img src="blank.png" id="arrow" alt="" width="300px" height="300px" onclick="knobUpdate()"><br>
    
    <input type="button" id="select" onclick="load()" value="START" class="btn"><br><br>
    <button id="check" onclick="checkFix()" class="btn">CHECK</button><br>
    
    <span id="fixWord">--</span><br>
            
    <script src="../js/move.js"></script>
    <script>
        move("arrow","15px","15px"); rotate("arrow",180);
        move("select","420px","100px"); 
        move("check","420px","100px"); 
      
        move("fixWord","520px", "90px");
               
        e("check").style.visibility="hidden";
        
        let activate = 0;        
        let fixknobSet; let fixCheck; let answerWord;
        let i=1; let c=0;
        const rots = [130,-130];
        const list = [
            "un","unhappy","prefix",
            
            "less","tasteless","suffix",
            
            "able","presentable", "suffix"
        ];
        const length = list.length;        
        
        function load(){
            e("select").style.visibility=e("check").style.visibility="hidden";
                       
            e("arrow").src="arrow-on.png";  rotate("arrow",180);         
                                
            ++c;
            if( c >= length/3){c = 0;}
            e("fixWord").innerHTML=list[c*3];
            
            answerWord = list[c*3+1];
            fixCheck = list[c*3+2];
            
            activate=1;
        }
        
        function checkFix(){
            e("select").style.visibility="visible";
            e("select").value="NEXT>";
            e("check").style.visibility="hidden";
            e("arrow").src="arrow-off.png";                       
            let result;
            
            if(fixCheck==="prefix" && fixknobSet === "prefix" || fixCheck==="suffix" && fixknobSet === "suffix"){
               result = "CORRECT ANSWER !";
              e("arrow").src="clapping.png"; rotate("arrow",0);
            }           
            else{
                result = "WRONG! BOOM!"
                e("arrow").src="boom.png"; rotate("arrow",0);
            }
            e("fixWord").innerHTML= answerWord ;
                    
            activate=0;
        }
                        
        function knobUpdate(){
            if(!activate){return;}
            else{
                e("check").style.visibility="visible";
                rotate("arrow",rots[i]);
                ++i;
                if(i>=rots.length){
                    i=0;
                }
                if(i===1){fixknobSet="prefix";}
                else if(i===0){fixknobSet="suffix";}
            }
        }     
        
        function rotate(id, degree){
           e(id).style = 'transform: rotate(' + degree + 'deg)';
        }
        function e(id){return document.getElementById(id);}
    </script>
</body>
</html>